language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- sudo curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname
  -s`-`uname -m` -o /usr/local/bin/docker-compose
- sudo chmod +x /usr/local/bin/docker-compose
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn clean
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=./target/app.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push  $DOCKER_USERNAME/se234-lab10-backend
- docker pull  $DOCKER_USERNAME/se234-lab10-client
script:
- docker-compose -H $DOCKER_HOST up
after_success:
- docker ps
env:
  global:
  - secure: lTCert5xp64KMCwAygIVYxYhSBRcdWDAJ0dyjlkfQSWfNdh0eP87JVLY7SPrO6e34AMUtxTdY/pdTL3INCNjlMHkE1rQsT2HSSe+q3CC2yPD7cLY5+MIY97jZsDzdyn5SFs9VUGoAXHdYzMTfGQF/gXFpgjzmYfSh3OsPfZHkANzjWKa7tiz3K4PjvHmJqvey5XHAvOi13NrrxzfmlAOV5Q6BKoLbwirjaQXyMmKFljadQHsxl+hWV9qa6J1Ms/TIJIb24P6063RUIo4WazlUiIikYVci0xhEMMXQ4ZdARjccXlaAoZsXxc1iW9f4NACmxoVLqZHdI8qF8K7462IdxnbXit43xaCIZGjiRt89It0zzLw+U8lH1BHU+EAknJRrTNhoYLWFzakLIdk9mApTsBMcVbjPXUgZzOgmKQJisqWBWO8F6yphG1nfd94PVTVKQVzLuW+nhF6fjuUXSPpHZsfcKYw7hWH3h49dIbekgyo7KLs5LoIx2SJNGTCT7BMCuFV6m9hl0sp2SoKzsHyZsuhOMJERn2lXF6O0rCEsI2H0xQk1FUJh0qQUJd+3YsGDhuQrICSdwdVsYLn1sofAzNh9Ya0HHOpVuZhcgw3USHb1FZbPsYqMSeyoyH7DpKSJGdm91v01prNUWoxUFaOZ2cciLnn5Mg/khpF+g0vxC0=
  - secure: qjQbRLrF+mqGgmGJWA361j4nMWGFZ6wsyYLMr3tl99hJUgT7T5qnKoRuvSnFgXyc1LqplLqkeVzyrRIcI1cIGryZlrStuXBVJC+HwJMEssve2T43AgwVyACttwmthp4NuxY+FO42bXrsTBk4jvbXMrYeXyhU0G6TUQ35zgplUPoXHTHmYhqSwFfTplvZhTxkzICqsnkRF3t9NTjlKZ2Nv6fsGkwNSB5u6/1ya3rcmZ000bQ1Qxo7KmUFoQ6EDjDBSoqAI/oJBgicp6pj6POaQa8g2f3FnPR2IseI/+4s+gqiIuTHS38d6PWhkWIkNxNn3X69NlV1TBgUaBN60QuBsjwIyK3ygmtLbsogNKOqz7D6pWnZMlHeyGH271/QFx7Guf4o3iAPSmFPwLl8wG480rNfFKJMPbRHfkw25AduZNGUZFl9iE9M1tO36+0/UKgsxyvDox7RAW9h39qUwoCgWnL0MIvFhhiOHLGznwDj27HcBDxUArmFqZyI9J+4ycR7CtubTHRSuJ5WXBDHDfGRjBkNADlCuitM4HzGTyoSKPCD9kdvrLMFi2x1LuAONxBIy24/oyjTyZ4gXW4veBzFW+oKggS2Clper1Hv2Gl5tBKHBYzFU8hkYF0wjhqYvnWjeVT8C+o1tVFe7F+VsHNUc9Aq/3orth+QZUNib1+aO4Q=
  - secure: coIPq11G1vXJILqQBIU3Dh8ZRr1CpcOMpqHKJGdB0pIi+qpikEIx3RhZSMBFux/Z6fxlHPnONmmCE/aPTJ0payLnxkEXcE/zBbOZu74SPjFYyFCbdCQkYgYvDwGvPNR2z5o5FcGzoNbVqGFZSbSq17sbUdjLsDPIsDkD0CMzc1HUsdMsNWgPPOqLZBQuimZ9/V/bw4LBm7PeEwKDqPyGXoCR5ONyDOj0W9TlwYFTFteIqtujBp42RwpcDBYYyPTFtz76oxHInOsnBLu+DVC4IsQURUFJGBL6gUIMxkYBD2015lHtJQgpOCtnxjbDI9eAZETBjPIbX3ZzRy41Dmnt2eGLI8qGHGAQfdcvKaha7SHRfidIHkaublgDD0QuBvq39o7QvoF/lu4C0OatR9fd/686RQJCJhuzSvhm6GL68rMo4Kbh/xdSf/5capwWn5to2/om8Z+dxqfpQwJXLOyD2/z9Cs6+IJZ8uOJGbOZIcs2brjLvl6vkdM75bMAE/m9NXFwdTcfPoXF8zJZ7W346gv510nF58Rbf7oOoZ2xj3JoyFmdGyaoN5Bv5uzFsRU9N7mbeKxQAhquv2O5GUMbZzlYhH5w7rO7hWsdJYE+M3M09CQdUKDE89xCsH8Afr4f92yMv7NjfLvEhcq9+D8Jn31wIbs/7dWRHX1EnRH2iEQo=
  - secure: V3i4UsHiVLin8c2N/rZDMX0vkzut1yyCpha4q/oIc8t6yemsHuCI9vrDvTkoSXX9EO8qfPg3cBx9Hk42cvXCXJRx9atWoGtUc1YPLjG7HLYlZuBqwSeefuubCyV3voLA+t3jjlkO/jJ9dZBJY0tHJ2ogHNstRC1ni55BTHot7xxpk75lrDhj5tsuRqaoOgf2BMfMLBFl0h8vyuidcpzQWYBuHHTuJFOTSTMhboqt+z9aHrUxaJG9kg46XhyAuXjaVdKlcqfJicrMZwVRlALzREdMPnTEtd6ElNFnXzFpSATHWIpjp7CM02ldnVEH+AibS5hB96xMHtcC33PUeS2P3AfDdnu95aFqSNze8/dfFS/5Q5xwMeAjeHirji6E0RGYwG34cYz8i/hB49HZ4DCTHltNfwx4yOexVAHgJPP0RCBcZTM74v8Lk6YYf56YYFRqwPnA/6CYmmkd+esHnayvkTCtvNUx9cbHQeFbGmZlT1YuiAR0dzBk1ksaDUyqy28bZd9XtAL9OZtXSJqFT/uEvfJjLzMWiuuPvt50Ql4l071EhTLd1afhQCviiM1xeytAErZ2Howun7D4ISAyirAZeP+4GvjhjnZZGSC4nxIy8WOPuzZsOHkg8VNMW3jsuNhs/N+6BRDpMwWGHALf7ZLXm+FNNWyVQ/4BFCe62aISNv4=
